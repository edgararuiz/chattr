<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Interact with Large Language Models in RStudio • chattr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Interact with Large Language Models in RStudio">
<meta name="description" content="Enables user interactivity with large-language models (LLM) inside the RStudio integrated development environment (IDE). The user can interact with the model using the shiny app included in this package, or directly in the R console. It comes with back-ends for OpenAI, GitHub Copilot, and LlamaGPT.">
<meta property="og:description" content="Enables user interactivity with large-language models (LLM) inside the RStudio integrated development environment (IDE). The user can interact with the model using the shiny app included in this package, or directly in the R console. It comes with back-ends for OpenAI, GitHub Copilot, and LlamaGPT.">
<meta property="og:image" content="https://mlverse.github.io/chattr/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">chattr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/backend-databricks.html">Interact with Databricks foundation models</a></li>
    <li><a class="dropdown-item" href="articles/backend-llamagpt.html">Interact with local models</a></li>
    <li><a class="dropdown-item" href="articles/copilot-chat.html">Interact with GitHub Copilot Chat</a></li>
    <li><a class="dropdown-item" href="articles/openai-gpt.html">Interact with OpenAI GPT models</a></li>
    <li><a class="dropdown-item" href="articles/other-interfaces.html">Other interfaces</a></li>
    <li><a class="dropdown-item" href="articles/prompt_defaults.html">Modify prompt enhancements</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlverse/chattr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="chattr">chattr<a class="anchor" aria-label="anchor" href="#chattr"></a>
</h1>
</div>
<!-- badges: start -->

<!-- badges: end -->
<!-- toc: start -->
<ul>
<li><a href="#intro">Intro</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#available-models">Available models</a></li>
<li>
<a href="#using">Using</a>
<ul>
<li><a href="#the-app">The App</a></li>
<li><a href="#additional-ways-to-interact">Additional ways to interact</a></li>
</ul>
</li>
<li><a href="#how-it-works">How it works</a></li>
<li>
<a href="#keyboard-shortcut">Keyboard Shortcut</a>
<ul>
<li><a href="#how-to-setup-the-keyboard-shortcut">How to setup the keyboard shortcut</a></li>
</ul>
</li>
</ul>
<!-- toc: end --><div class="section level2">
<h2 id="intro">Intro<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p><code>chattr</code> is an interface to LLMs (Large Language Models). It enables interaction with the model directly from the RStudio IDE. <code>chattr</code> allows you to submit a prompt to the LLM from your script, or by using the provided Shiny Gadget.</p>
<p>This package’s main goal is to aid in exploratory data analysis (EDA) tasks. The additional information appended to your request, provides a sort of “guard rails”, so that the packages and techniques we usually recommend as best practice, are used in the model’s responses.</p>
</div>
<div class="section level2">
<h2 id="install">Install<a class="anchor" aria-label="anchor" href="#install"></a>
</h2>
<p>Since this is a very early version of the package install the package from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"mlverse/chattr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="available-models">Available models<a class="anchor" aria-label="anchor" href="#available-models"></a>
</h2>
<p><code>chattr</code> provides two main integration with two main LLM back-ends. Each back-end provides access to multiple LLM types. The plan is to add more back-ends as time goes by:</p>
<table style="width:100%;" class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 46%">
<col style="width: 24%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">
Provider
</th>
<th style="text-align: center;">
Models
</th>
<th style="text-align: center;">
Setup Instructions
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">
OpenAI
</td>
<td style="text-align: center;">
GPT Models accessible via the OpenAI’s REST API. <code>chattr</code> provides a convenient way to interact with GPT 4, and 3.5.
</td>
<td style="text-align: center;">
<a href="https://mlverse.github.io/chattr/articles/openai-gpt.html">Interact with OpenAI GPT models</a>
</td>
</tr>
<tr class="even">
<td style="text-align: center;">
<a href="https://github.com/kuvaus/LlamaGPTJ-chat" class="external-link">LLamaGPT-Chat</a>
</td>
<td style="text-align: center;">
LLM models available in your computer. Including GPT-J, LLaMA, and MPT. Tested on a <a href="https://gpt4all.io/index.html" class="external-link">GPT4ALL</a> model. <strong>LLamaGPT-Chat</strong> is a command line chat program for models written in C++.
</td>
<td style="text-align: center;">
<a href="https://mlverse.github.io/chattr/articles/backend-llamagpt.html">Interact with local models</a>
</td>
</tr>
<tr class="odd">
<td style="text-align: center;">
<a href="https://docs.posit.co/ide/user/ide/guide/tools/copilot.html" class="external-link">GitHub Copilot</a>
</td>
<td style="text-align: center;">
AI pair programmer that offers autocomplete-style suggestions as you code
</td>
<td style="text-align: center;">
<a href="https://mlverse.github.io/chattr/articles/copilot-chat.html">Interact with GitHub Copilot Chat</a>
</td>
</tr>
<tr class="even">
<td style="text-align: center;">
<a href="https://docs.databricks.com/en/machine-learning/foundation-models/index.html#databricks-foundation-model-apis" class="external-link">Databricks</a>
</td>
<td style="text-align: center;">
DBRX, Meta Llama 3 70B, and Mixtral 8x7B via <a href="https://docs.databricks.com/en/machine-learning/foundation-models/index.html#pay-per-token-foundation-model-apis" class="external-link">Databricks foundational model REST API</a>.
</td>
<td style="text-align: center;">
<a href="https://mlverse.github.io/chattr/articles/backend-databricks.html">Interact with Databricks foundation chat models</a>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="using">Using<a class="anchor" aria-label="anchor" href="#using"></a>
</h2>
<div class="section level3">
<h3 id="the-app">The App<a class="anchor" aria-label="anchor" href="#the-app"></a>
</h3>
<p>The main way to use <code>chattr</code> is through the Shiny Gadget app. By default, in RStudio the app will run inside the Viewer pane. <code>chattr</code> will prompt you to select the model back-end you with to use. The list of the actual models will depend on which of them you have a setup for. If no model setup is found, it will return an error. If you receive the error, please refer to the previous section to learn how to setup a model back-end in your machine. Here is an example of what the selection prompt will look like:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">chattr</span><span class="fu">::</span><span class="fu"><a href="reference/chattr_app.html">chattr_app</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; ── chattr - Available models </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1: GitHub - Copilot Chat -  (copilot) </span></span>
<span><span class="co">#&gt; 2: OpenAI - Chat Completions - gpt-3.5-turbo (gpt35) </span></span>
<span><span class="co">#&gt; 3: OpenAI - Chat Completions - gpt-4 (gpt4) </span></span>
<span><span class="co">#&gt; 4: LlamaGPT - ~/ggml-gpt4all-j-v1.3-groovy.bin (llamagpt) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Select the number of the model you would like to use:</span></span></code></pre></div>
<p>This prompt only occurs the first time you call <code><a href="reference/chattr_app.html">chattr_app()</a></code>, or <code><a href="reference/chattr.html">chattr()</a></code>. If you close the app, and open it again, the app will use the model you initially selected. The selection is set for the rest of your R session, or until you manually change it. Please note that if, for example, <code>chattr</code> cannot find the setup for OpenAI, then those lines would not show up as options in your actual prompt.</p>
<p>If you wish to avoid the interactive prompt, then call <code><a href="reference/chattr_use.html">chattr_use()</a></code> to designate the model you wish to use before calling the app. You can also use <code><a href="reference/chattr_use.html">chattr_use()</a></code> to change the model back-end you are interacting with during your R session:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/chattr_use.html">chattr_use</a></span><span class="op">(</span><span class="st">"gpt35"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/chattr_app.html">chattr_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="reference/figures/readme/chat1.png" alt="Screenshot of the Sniny gadget app in a dark mode RStudio theme"><div class="figcaption">Screenshot of the Sniny gadget app in a dark mode RStudio theme</div>
</div>
<p><br></p>
<p>After the LLM finishes its response, the <code>chattr</code> app processes all markdown code chunks. It will place three convenience buttons:</p>
<ul>
<li><p><strong>Copy to clipboard</strong> - It will write the code inside the chunk to your clipboard.</p></li>
<li><p><strong>Copy to document</strong> - It will copy-paste the code directly to where the app was called from. If the app is started while working on a script, <code>chattr</code> will copy the code to that same script.</p></li>
<li><p><strong>Copy to new script</strong> - It creates a new R script in the RStudio IDE, and copies the content of the chunk directly to it. Very useful when the LLM writes a Shiny app for you</p></li>
</ul>
<p>A lot of effort was put in to make the app’s appearance as close as possible to the IDE. This way it feels more integrated with your work space. This includes switching the color scheme based on the current RStudio theme being light, or dark.</p>
<p>The settings screen can be accessed by clicking on the “gear” button. The screen that opens will contain the following:</p>
<ul>
<li><p>Save and Open chats - This is an early experiment to allow us to save and retrieve past chats. <code>chattr</code> will save the file in an RDS format. The main objective of this feature, is to be able to see past chats, not to continue previous conversations with the LLM.</p></li>
<li><p>Prompt settings - In this section you can change the additional information attached to your prompt. Including the number of max data files, and data frames sent to the LLM.</p></li>
</ul>
<div class="float">
<img src="reference/figures/readme/chat2.png" alt="Screenshot of the Sniny gadget options"><div class="figcaption">Screenshot of the Sniny gadget options</div>
</div>
</div>
<div class="section level3">
<h3 id="additional-ways-to-interact">Additional ways to interact<a class="anchor" aria-label="anchor" href="#additional-ways-to-interact"></a>
</h3>
<p>Apart from the Shiny app, <code>chattr</code> provides two more ways to interact with the LLM. For details, see: <a href="https://mlverse.github.io/chattr/articles/other-interfaces.html">Other interfaces</a></p>
</div>
</div>
<div class="section level2">
<h2 id="how-it-works">How it works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p><code>chattr</code> enriches your request with additional instructions, name and structure of data frames currently in your environment, the path for the data files in your working directory. If supported by the model, <code>chattr</code> will include the current chat history.</p>
<div class="float">
<img src="reference/figures/readme/chattr-diagram.png" alt="Diagram that illustrates how chattr handles model requests"><div class="figcaption">Diagram that illustrates how <code>chattr</code> handles model requests</div>
</div>
<p>To see what <code>chattr</code> will send to the model, set the <code>preview</code> argument to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlverse/chattr" class="external-link">chattr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/chattr_use.html">chattr_use</a></span><span class="op">(</span><span class="st">"gpt4"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── chattr</span></span>
<span><span class="co">#&gt; • Provider: OpenAI - Chat Completions</span></span>
<span><span class="co">#&gt; • Path/URL: https://api.openai.com/v1/chat/completions</span></span>
<span><span class="co">#&gt; • Model: gpt-4</span></span>
<span><span class="co">#&gt; • Label: GPT 4 (OpenAI)</span></span>
<span></span>
<span><span class="fu"><a href="reference/chattr.html">chattr</a></span><span class="op">(</span>preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── chattr ──────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preview for: Console</span></span>
<span><span class="co">#&gt; • Provider: OpenAI - Chat Completions</span></span>
<span><span class="co">#&gt; • Path/URL: https://api.openai.com/v1/chat/completions</span></span>
<span><span class="co">#&gt; • Model: gpt-4</span></span>
<span><span class="co">#&gt; • Label: GPT 4 (OpenAI)</span></span>
<span><span class="co">#&gt; • temperature: 0.01</span></span>
<span><span class="co">#&gt; • max_tokens: 1000</span></span>
<span><span class="co">#&gt; • stream: TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Prompt:</span></span>
<span><span class="co">#&gt; role: system</span></span>
<span><span class="co">#&gt; content: You are a helpful coding assistant</span></span>
<span><span class="co">#&gt; role: user</span></span>
<span><span class="co">#&gt; content:</span></span>
<span><span class="co">#&gt; * Use the 'Tidy Modeling with R' (https://www.tmwr.org/) book as main reference</span></span>
<span><span class="co">#&gt; * Use the 'R for Data Science' (https://r4ds.had.co.nz/) book as main reference</span></span>
<span><span class="co">#&gt; * Use tidyverse packages: readr, ggplot2, dplyr, tidyr</span></span>
<span><span class="co">#&gt; * For models, use tidymodels packages: recipes, parsnip, yardstick, workflows,</span></span>
<span><span class="co">#&gt; broom</span></span>
<span><span class="co">#&gt; * Avoid explanations unless requested by user, expecting code only</span></span>
<span><span class="co">#&gt; * For any line that is not code, prefix with a: #</span></span>
<span><span class="co">#&gt; * Keep each line of explanations to no more than 80 characters</span></span>
<span><span class="co">#&gt; * DO NOT use Markdown for the code</span></span>
<span><span class="co">#&gt; [Your future prompt goes here]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="keyboard-shortcut">Keyboard Shortcut<a class="anchor" aria-label="anchor" href="#keyboard-shortcut"></a>
</h2>
<p>The best way to access <code>chattr</code>’s app is by setting up a keyboard shortcut for it. This package includes an RStudio Addin that gives us direct access to the app, which in turn, allows a <strong>keyboard shortcut</strong> to be assigned to the addin. The name of the addin is: “Open Chat”. If you are not familiar with how to assign a keyboard shortcut see the next section.</p>
<div class="section level3">
<h3 id="how-to-setup-the-keyboard-shortcut">How to setup the keyboard shortcut<a class="anchor" aria-label="anchor" href="#how-to-setup-the-keyboard-shortcut"></a>
</h3>
<ul>
<li>
<p>Select <em>Tools</em> in the top menu, and then select <em>Modify Keyboard Shortcuts</em></p>
<p><img src="reference/figures/readme/keyboard-shortcuts.png" width="700" alt="Screenshot that shows where to find the option to modify the keyboard shortcuts"></p>
</li>
<li>
<p>Search for the <code>chattr</code> adding by writing “open chat”, in the search box</p>
<p><img src="reference/figures/readme/addin-find.png" width="500" alt="Screenshot that shows where to input the addin search"></p>
</li>
<li>
<p>To select a key combination for your shortcut, click on the Shortcut box and then type <em>press</em> the key combination in your keyboard. In my case, I chose <em>Ctrl+Shift+C</em></p>
<p><img src="reference/figures/readme/addin-assign.png" width="500" alt="Screenshot that shows what the interface looks like when a shortcut has been selected"></p>
</li>
</ul>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=chattr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/mlverse/chattr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mlverse/chattr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing chattr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edgar Ruiz <br><small class="roles"> Author, maintainer </small>  </li>
<li>Posit Software, PBC <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mlverse/chattr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/mlverse/chattr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/mlverse/chattr?branch=main" class="external-link"><img src="https://codecov.io/gh/mlverse/chattr/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=chattr" class="external-link"><img src="https://www.r-pkg.org/badges/version/chattr.png" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="reference/figures/lifecycle-experimental.svg"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Edgar Ruiz, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
